"0",""
"0","recent_data = energy[energy$Year >= 2015 & energy$Year <= 2020, ]"
"0",""
"0","recent_renew = NULL"
"0","for(i in 1:nrow(recent_data)){"
"0","  for(y in 1:7){"
"0","    if(recent_data$Region[i] == region.name[y]){"
"0","      recent_renew[y] = mean(recent_data$perc_renew[recent_data$Region == region.name[y]]) "
"0","    }"
"0","  }"
"0","}"
"0",""
"0",""
"0","sd_recent_renew = NULL"
"0","for(i in 1:nrow(recent_data)){"
"0","  for(y in 1:7){"
"0","    if(recent_data$Region[i] == region.name[y]){"
"0","      sd_recent_renew[y] = sd(recent_data$perc_renew[recent_data$Region == region.name[y]]) "
"0","    }"
"0","  }"
"0","}"
"0",""
"0","region.name = unique(energy$Region)"
"0",""
"0","ggplot() +"
"0","  geom_bar(aes(x = region.name, y = recent_renew), stat = ""identity"","
"0","           fill = ""#F8500C"") +"
"0","  geom_errorbar(aes(x = region.name, ymin = recent_renew - sd_recent_renew,"
"0","                    ymax = recent_renew + sd_recent_renew), width = 0.2) +"
"0","  labs(x = ""Region"","
"0","       y = ""Average Percent of Renewable Electricity"","
"0","       caption = ""Error bars represent the standard deviation"") +"
"0","  theme(axis.text.x = element_text(angle = 45, hjust = 1),"
"0","        axis.title.y = element_text(size = 9),"
"0","        plot.caption = element_text(color = ""#6B6B6B"", face = ""italic"")) +"
"0","  ggtitle(""Average Percent of Renewable Electricity in Each Region (2015-2020)"")"
